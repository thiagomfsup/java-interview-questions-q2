## Shorten URL project

This application exposes services that allows shortening a URL (i.e., given an URL, an identifier hash is generated and returned to the caller) and retrieve a shortened URL by the generated hash value.

## Running the application

This is a spring-boot app, so run it using `mvn spring-boot:run` or your favorite IDE.

This project uses Lombok. Install Lombok plugin in your IDE for a better support.

## Packaging and running the application

By running `mvn clean install -Pdocker-image`, the app will be containerized and deployed to the local docker registry.

> **WARNING**: This feature is not completed and may not work in your environment. Please, run this project using `mvn spring-boot:run` instead. 

## Javadoc

Javadoc can be generated by running `mvn javadoc:javadoc`. Javadoc will be generated at `target/site/apidocs` folder.

## Services description

This application exposes two REST API:

## `/short` API
This REST API takes an URL through the `url` query param and gives back a 8 character-long hash that identify the given URL in the application.

API call example:

    POST http://localhost:50000/short?url=https://stash.backbase.com/projects/PO/repos/payment-order-integration-spec/browse/src/main/resources/schemas/definitions.json

Returns:

    HTTP 200 OK
    Content-type:text/plain
    44C0173E

If the given URL is malformed, this API returns `HTTP 400 Bad Request`.

## `/long` API
This REST API takes a hash through the `tiny`query param and gives back a previously register URL.

API call example:

    GET http://localhost:50000/long?tiny=44C0173E

Returns:

    HTTP 302 Found
    Location: https://stash.backbase.com/projects/PO/repos/payment-order-integration-spec/browse/src/main/resources/schemas/definitions.json

If the given hash doesn't identity an URL, this API returns `HTTP 404 Not Found`.

## If I had enough time, I would...
1. Sanitize URL (e.g. resolve URL encoding to avoid duplication).
2. Implement a cache mechanism for increase response time for the most retrieved hashes (URLs).
3. Implement a mechanism for collecting statistics (e.g. how many times a URL has been retrieved).
4. Solve problems when generating a Docker image for the project.
